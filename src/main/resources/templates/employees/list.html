<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Employee List</title>
</head>
<body>

<div th:replace="fragments :: header"></div>

<header>
    <h1>Total Employees: <span th:text="${persons.size()}">0</span></h1>
</header>
<p><a th:href="@{/}">Back to Home</a></p>

<form th:action="@{/employees}" method="get">
    <label for="country">Filter by Country:</label>
    <select name="country" id="country">
        <option value="" th:text="'-- Select Country --'">-- Select Country --</option>
        <option th:each="country : ${countries}" th:value="${country}" th:text="${country}"></option>
    </select>
    <button type="submit">Filter</button>
</form>

<table>
    <tr>
        <th>ID</th>
        <th>First Name</th>
        <th>Last Name</th>
        <th>Email</th>
        <th>Company</th>
        <th>Currency</th>
        <th>Country</th>
    </tr>
    <tr th:each="person : ${persons}">
        <td th:text="${person.id}">ID</td>
        <td th:text="${person.firstName}">First Name</td>
        <td th:text="${person.lastName}">Last Name</td>
        <td><a th:href="@{'/details/' + ${person.id}}" th:text="${person.email}">Email</a></td>
        <td th:text="${person.company}">Company</td>
        <td th:text="${person.currency}">Currency</td>
        <td th:text="${person.country}">Country</td>
    </tr>
</table>

<div th:replace="fragments :: footer"></div>

</body>
</html>
